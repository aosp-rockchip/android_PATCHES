From 36aac3f6c7d8d920f2aec8fd0d2d304766460efb Mon Sep 17 00:00:00 2001
From: "alex.lin" <alex.lin@rock-chips.com>
Date: Wed, 13 Jan 2021 15:55:01 +0800
Subject: [PATCH 283/297] Change the A2 icon and refresh view after clicking
 the A2 button

Signed-off-by: alex.lin <alex.lin@rock-chips.com>
Change-Id: I0e8909f482c79a66948c8b2e0fc0fed8f0ee5e56
---
 .../drawable/ic_sysbar_switch_mode_button.xml | 20 +++++++++++++------
 .../phone/NavigationBarFragment.java          |  1 +
 2 files changed, 15 insertions(+), 6 deletions(-)

diff --git a/packages/SystemUI/res/drawable/ic_sysbar_switch_mode_button.xml b/packages/SystemUI/res/drawable/ic_sysbar_switch_mode_button.xml
index 6961afc9959..10cef99c4b5 100644
--- a/packages/SystemUI/res/drawable/ic_sysbar_switch_mode_button.xml
+++ b/packages/SystemUI/res/drawable/ic_sysbar_switch_mode_button.xml
@@ -1,9 +1,17 @@
+<?xml version="1.0" encoding="utf-8"?>
 <vector xmlns:android="http://schemas.android.com/apk/res/android"
-    android:width="20dp"
-    android:height="20dp"
-    android:viewportWidth="975"
-    android:viewportHeight="975">
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="413"
+    android:viewportHeight="413">
+
     <path
         android:fillColor="@android:color/white"
-        android:pathData="M405.76,19.48C408.78,18.67 411.84,17.81 414.99,17.74C456.34,17.75 497.69,17.73 539.04,17.75C543.3,18.25 547.93,18.82 551.36,21.65C554.54,23.9 556.67,27.36 558.24,30.87C677,322.04 795.76,613.21 914.52,904.37C917.67,912.94 922.3,921.05 923.67,930.18C923.15,934.45 922.33,939.02 919.32,942.32C915.47,947.26 908.92,948.43 903.05,949C859.68,949 816.31,949.01 772.95,948.99C768.49,948.48 763.68,947.8 760.09,944.88C756.46,942.33 754.19,938.32 752.85,934.18C720.22,848.77 687.47,763.41 654.83,678.01C538.24,677.99 421.64,678.01 305.05,678C274.3,763.3 243.71,848.66 213.1,934.01C211.58,939.76 207.56,944.86 202.02,947.16C198.77,948.07 195.45,949.03 192.05,949.02C152.04,948.95 112.02,949.08 72.01,948.95C67.62,948.19 62.77,947.75 59.24,944.75C54.54,941.45 52.79,935.62 52.34,930.17C53.45,922.58 56.81,915.63 59.42,908.5C171.52,615.6 283.66,322.72 395.75,29.83C397.63,25.32 401.05,21.16 405.76,19.48M475.6,197.97C465.58,237.49 452.91,276.3 438.62,314.47C422.44,357.99 406.29,401.53 390.12,445.05C377.78,478.64 364.99,512.07 352.92,545.75C436.66,545.72 520.4,545.75 604.14,545.74C603.23,541.64 601.37,537.85 600.01,533.91C572.83,461.42 545.65,388.94 518.42,316.47C504.68,280.24 491.45,243.81 479.12,207.07C477.99,204.02 477.41,200.72 475.6,197.97Z" />
-</vector>
+        android:pathData="M 123.62 45.64 C 143.96 35.59 166.28 29.71 188.90 28.13 C 227.55 26.09 266.57 38.27 297.78 61.05 C 306.34 67.46 314.66 74.32 321.69 82.42 C 327.54 89.29 333.18 96.38 337.98 104.04 C 339.65 106.84 342.15 108.96 344.40 111.26 C 348.90 112.09 352.38 108.98 355.97 106.84 C 362.75 102.67 369.65 98.71 376.32 94.36 C 376.24 106.58 376.78 118.80 377.02 131.01 C 377.04 151.90 377.38 172.79 378.04 193.67 C 348.67 178.16 319.45 162.33 290.20 146.59 C 298.38 142.01 306.26 136.91 314.36 132.18 C 317.30 130.62 319.42 127.99 321.74 125.68 C 321.72 124.18 321.71 122.68 321.70 121.18 C 313.85 108.77 304.15 97.63 293.33 87.73 C 273.40 69.21 247.80 56.94 220.89 52.93 C 188.58 48.16 154.35 53.38 126.08 70.17 C 107.86 80.86 92.29 95.76 79.80 112.72 C 73.01 122.14 67.39 132.45 63.36 143.36 C 62.32 146.68 60.97 149.98 58.62 152.61 C 54.28 156.17 47.55 158.43 42.77 154.37 C 39.37 150.40 38.69 144.59 40.55 139.75 C 47.06 120.86 57.16 103.26 69.74 87.75 C 84.20 69.86 103.12 55.89 123.62 45.64 Z" />
+    <path
+        android:fillColor="@android:color/white"
+        android:pathData="M 152.71 146.77 C 153.33 144.58 155.42 142.98 157.70 143.04 C 161.85 142.93 166.01 143.00 170.16 143.00 C 172.43 143.06 175.52 143.32 176.32 145.92 C 189.70 178.57 203.04 211.23 216.42 243.89 C 216.92 245.23 217.25 246.63 217.56 248.03 C 218.52 239.60 223.97 232.39 229.48 226.24 C 240.85 213.61 255.77 204.72 266.66 191.63 C 270.50 186.88 274.24 181.18 273.72 174.79 C 273.31 168.17 267.53 162.61 261.05 161.86 C 256.40 161.43 251.32 161.57 247.39 164.43 C 242.79 167.35 240.87 172.98 240.71 178.21 C 240.83 180.77 238.65 183.42 235.94 183.06 C 231.32 182.61 226.66 182.35 222.11 181.46 C 219.91 181.04 219.21 178.56 219.08 176.64 C 220.03 166.92 223.78 156.92 231.63 150.69 C 239.54 144.26 250.10 142.14 260.09 142.49 C 269.81 142.85 279.86 146.12 286.60 153.42 C 295.06 162.14 297.63 175.66 293.83 187.07 C 290.29 199.03 280.77 207.71 271.99 215.99 C 263.55 223.18 255.18 230.46 246.81 237.69 C 260.18 237.23 273.57 237.64 286.95 237.48 C 289.38 237.55 292.12 237.14 294.21 238.69 C 296.40 241.27 295.62 244.86 295.78 247.96 C 295.61 251.09 296.42 254.74 294.18 257.34 C 292.70 258.41 290.81 258.51 289.06 258.52 C 267.04 258.50 245.02 258.50 223.00 258.52 C 221.45 258.55 219.96 258.10 218.48 257.73 C 215.09 258.90 211.50 258.44 207.99 258.51 C 204.24 258.41 200.26 259.12 196.83 257.18 C 192.69 246.86 188.76 236.45 184.78 226.07 C 171.72 225.90 158.66 226.06 145.60 225.99 C 141.84 235.87 138.41 245.88 134.71 255.78 C 133.83 258.45 130.35 258.56 127.99 258.53 C 123.69 258.30 119.30 258.95 115.05 258.15 C 112.27 257.75 111.15 254.44 112.30 252.10 C 125.70 216.97 139.23 181.87 152.71 146.77 M 164.84 172.74 C 161.26 184.14 156.80 195.27 152.45 206.39 C 160.81 206.18 169.20 206.08 177.56 206.44 C 172.92 195.38 168.79 184.07 164.84 172.74 Z" />
+    <path
+        android:fillColor="@android:color/white"
+        android:pathData="M 31.94 216.37 C 61.35 231.77 90.56 247.62 119.76 263.44 C 111.54 267.95 103.70 273.12 95.59 277.82 C 92.62 279.38 90.49 282.05 88.16 284.38 C 88.17 285.75 88.18 287.12 88.18 288.50 C 94.08 298.10 101.15 306.93 109.10 314.90 C 123.78 330.36 141.85 342.70 161.91 350.04 C 182.94 357.88 205.81 360.09 228.06 357.91 C 255.76 355.22 282.56 343.86 303.68 325.73 C 321.18 310.81 336.08 292.36 344.91 270.99 C 346.93 266.40 347.85 261.19 351.33 257.38 C 355.21 254.38 360.75 251.75 365.46 254.52 C 368.26 255.55 369.13 258.68 370.02 261.21 C 371.19 265.01 369.86 268.94 368.66 272.55 C 360.27 295.16 347.12 316.00 330.31 333.29 C 301.33 361.67 261.99 379.07 221.55 381.79 C 179.43 384.20 136.81 369.60 104.33 342.80 C 91.00 332.35 80.40 318.88 71.20 304.76 C 69.60 302.47 67.42 300.68 65.52 298.65 C 63.53 298.79 61.32 298.39 59.64 299.73 C 50.97 305.07 42.13 310.14 33.61 315.70 C 33.81 304.13 33.18 292.56 32.98 280.98 C 32.96 259.44 32.64 237.90 31.94 216.37 Z" />
+</vector>
\ No newline at end of file
diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarFragment.java b/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarFragment.java
index 9e9f9883457..545dedaf6cc 100644
--- a/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarFragment.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarFragment.java
@@ -1089,6 +1089,7 @@ public class NavigationBarFragment extends LifecycleFragment implements Callback
             } else if(mPreMode != null){
                 mEinkManager.setMode(mPreMode);
             }
+            mNavigationBarView.postInvalidate();
         }
     }
 
-- 
2.36.0

